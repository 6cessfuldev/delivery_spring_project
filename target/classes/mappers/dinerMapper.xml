<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ezen.delivery.repository.DinerDAO">
<select id="selectDinerList" resultType="com.ezen.delivery.domain.DinerVO">
	select * from diner 
</select>

<select id="selectTenDinerByCategory" resultType="com.ezen.delivery.domain.DinerVO">
	select * from diner where diner_category_num = #{category} order by ST_Distance_Sphere(diner_addr_point, point(126.0, 37.0)) desc limit 0, 10
</select>

<insert id="insert">

insert into diner(diner_file_code, diner_name, diner_address, diner_addr_point)
				value(#{diner_file_code}, #{diner_name}, #{diner_address},POINT(#{diner_addr_lng}, #{diner_addr_lat}))
					
					
<!-- 	insert into diner(diner_file_code, diner_name, diner_address, diner_min_pay, diner_notice, diner_open_time, diner_close_time, 
					diner_method_pay, diner_business_name, diner_company_num, diner_addr_point)
				value(#{diner_file_code}, #{diner_name}, #{diner_address}, #{diner_min_pay}, #{diner_notice}, 
					#{diner_open_time}, #{diner_close_time}, #{diner_method_pay}, #{diner_business_name}, #{diner_company_num}, 
					ST_GeomFromText('POINT(#{diner_addr_lng} #{diner_addr_lat})')) -->
</insert>
</mapper>